<!doctype html>
<html lang="en">


<!-- Mirrored from www.smarteyeapps.com/demo/html5-template-login-page/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 15 Oct 2021 08:09:11 GMT -->

<head id="common-library">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>AFIDEM | login</title>
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="img/favicon.png">
    <!-- <link href="https://fonts.googleapis.com/css?family=Josefin+Sans:300,400,600,700" rel="stylesheet"> -->
    <link rel="shortcut icon" href="asset/images/fav-2.html">
    <link rel="stylesheet" href="asset/css/bootstrap.min.css">
    <link rel="stylesheet" href="asset/css/fontawsom-all.min.css">
    <link rel="stylesheet" type="text/css" href="asset/css/style.css" />
    <link href="assets/css/lib/toastr/toastr.min.css" rel="stylesheet">
    <link href="assets/css/lib/sweetalert/sweetalert.css" rel="stylesheet">


    <link rel="manifest" href="manifest.json">
    <!-- ios support -->
    <link rel="apple-touch-icon" href="icons/afidem-72_x_72.png">
    <link rel="apple-touch-icon" href="icons/afidem-96_x_96.png">
    <link rel="apple-touch-icon" href="icons/afidem-128_x_128.png">
    <link rel="apple-touch-icon" href="icons/afidem-144_x_144.png">
    <link rel="apple-touch-icon" href="icons/afidem-152_x_152.png">
    <link rel="apple-touch-icon" href="icons/afidem-192_x_192.png">
    <link rel="apple-touch-icon" href="icons/afidem-384_x_384.png">
    <link rel="apple-touch-icon" href="icons/afidem-512_x_512.png">
    <meta name="apple-mobile-web-app-status-bar" content="#051f3e">
    <meta name="theme-color" content="#051f3e">
</head>

<body style="font-family: Poppins; font-weight: bold;" onload="">
    <div class="container-fluid">
        <div class="container">
            <div class="col-xl-10 col-lg-11 login-container">
                <div class="row">
                    <div class="col-lg-7 img-box">
                        <img src="asset/images/login-banner.png" alt="">
                    </div>
                    <div class="col-lg-5 no-padding">
                        <div class="login-box">
                            <div style="display: flex;
                            justify-content: center;" class="row">

                                <b>
                                    <h1 style="font-weight: bold; font-family: Rowdies; color:#051f3e;">
                                        <!-- <i style="color: #051f3e;" class="fas fa-graduation-cap fa-xs"></i> -->
                                        AFIDEM
                                    </h1>
                                </b>

                            </div>
                            <br>

                            <h5 style="color: #ff9d01;">Welcome Admin!</h5>

                            <label for=""><i class="fas fa-user"></i> Staff ID</label>
                            <div class="login-row row no-margin">
                                <input oninput="this.value = this.value.toUpperCase()" value="" id="id" type="text"
                                    placeholder="USERNAME" class="form-control form-control-sm">
                            </div>
                            <label for=""><i class="fas fa-unlock-alt"></i> Password</label>
                            <div class="login-row row no-margin">
                                <input id="password" type="password" value="" class="form-control form-control-sm"><i
                                    id="togglePassword" class="fas fa-eye"
                                    style="margin-left: -35px; cursor: pointer; margin-bottom: 15px"></i>
                            </div>
                            <br>
                            <a style="float: right; color: blue;" href="index.html">Switch User</a>



                            <div class="login-row btnroo row no-margin">
                                <button id="signin" onclick="signIn()" class="btn btn-primary btn-sm ">Sign
                                    In</button>
                            </div>

                            <br />

                        </div>
                        <footer class="footer">
                            <div style="display: flex;
                            justify-content: center;" class="copyright">Â© <a style="color: #051f3e;" href="#"><b>
                                        Dextroux Technologies</b></a></div>
                        </footer>
                    </div>

                </div>

            </div>

        </div>
    </div>

</body>

<script src="asset/js/jquery-3.2.1.min.js"></script>
<script src="asset/js/popper.min.js"></script>
<script src="asset/js/bootstrap.min.js"></script>
<script src="asset/plugins/scroll-fixed/jquery-scrolltofixed-min.js"></script>
<script src="asset/js/script.js"></script>
<script src="common-library.js"></script>
<script src="account/js/account.js"></script>
<script src="assets/js/lib/toastr/toastr.min.js"></script>
<script src="assets/js/lib/toastr/toastr.init.js"></script>
<script src="assets/js/lib/sweetalert/sweetalert.min.js"></script>
<script src="assets/js/lib/sweetalert/sweetalert.init.js"></script>
<script src="js/app.js"></script>

<!-- firebase CDN -->
<!-- <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script> -->
<script src="https://www.gstatic.com/firebasejs/9.14.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.14.0/firebase-messaging-compat.js"></script>
<script>
    var ip = "";
    var domain = "";
    APP_MODE = "LIVE";
    if (this.APP_MODE == "DEV") {
        // DEVELOPMENT IP
        ip = "http://127.0.0.1:8000";
        domain = "http://localhost/afidem/portal";
    } else if (this.APP_MODE == "LIVE") {
        // LIVE IP
        ip = "https://afidemglobalresource.com.ng/backend/afidem";
        domain = "https://portal.afidemglobalresource.com.ng/";
    }

    const firebaseConfig = {
        apiKey: "AIzaSyCLhWTc_4e5rGJeXV8qGCWZdZLTP0YrjCA",
        authDomain: "dextroux-technologies.firebaseapp.com",
        projectId: "dextroux-technologies",
        storageBucket: "dextroux-technologies.appspot.com",
        messagingSenderId: "1099192792266",
        appId: "1:1099192792266:web:2da00b0f913d84ec4ef033",
        measurementId: "G-QWNY4DPSNH",
    };
    const app = firebase.initializeApp(firebaseConfig)
    const messaging = firebase.messaging();

    function initFirebaseMessagingRegistration() {
        messaging.getToken({ vapidKey: 'BCaDCU0B1hVyl5wJLgYeqoEK_H884I0EB1foOClfC-b-bg_WFFE9XQVOiiYfUl0OTvojVK9am5vQ0AlAbw_hQtc' }).then((currentToken) => {
            // app token used for sending notifications
            if (currentToken) {
                console.log(currentToken);
                //document.querySelector('body').append(currentToken)
                sendTokenToServer(currentToken)
            } else {
                setTokenSentToServer(false);
            }
        }).catch((err) => {
            // notifications are manually blocked, you can ask for unblock here
            console.log('An error occurred while retrieving token. ', err);
            setTokenSentToServer(false);
        });


    }


    messaging.onMessage((payload) => {
        // notification data receive here, use it however you want
        // keep in mind if message receive here, it will not notify in background
        alert(payload.data.body)
        console.log('in app notify ', payload);
        const notificationTitle = payload.data.title;
        const notificationOptions = {
            body: payload.data.body,
            icon: payload.data.icon,
        };
        var notification = new Notification(notificationTitle, notificationOptions);
        console.log('Notification created:', notification)

    });

    function sendTokenToServer(currentToken) {
        fetch(ip + "/api/device-token", {
            method: "POST",
            headers: {
                Accept: "application/json",
                "Content-type": "application/json",
            },
            body: JSON.stringify({
                id: localStorage['user_id'],
                device_token: currentToken,
            }),
        })
            .then(function (res) {
                return res.json();
            })

            .then((data) => {
                console.log(data)
                setTimeout(function () {
                    window.location.href = "account/dashboard.html";
                }, 1000);
            })
            .catch((err) => console.log(err));


    }


</script>





<script>
    const togglePassword = document.querySelector('#togglePassword');
    const password = document.querySelector('#password');

    togglePassword.addEventListener('click', function (e) {
        // toggle the type attribute
        const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
        password.setAttribute('type', type);
        // toggle the eye slash icon
        this.classList.toggle('fa-eye-slash');
    })
</script>

<!-- Mirrored from www.smarteyeapps.com/demo/html5-template-login-page/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 15 Oct 2021 08:09:14 GMT -->

</html>